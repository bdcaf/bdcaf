{{- define "main" -}}

<div class="widget-container">
  {{- range $index, $page := where .Data.Pages "Type" "home" -}}
    {{- $params := dict "root" $ "page" $page -}}
    {{- $widget := printf "widgets/%s.html" ( or $page.Params.widget "custom" ) -}}
    {{- partial $widget $params -}}
  {{- end -}}
</div>

{{- end -}}
